(self.webpackChunk_N_E=self.webpackChunk_N_E||[]).push([[974],{381:(e,s,t)=>{"use strict";t.d(s,{A:()=>a});let a=(0,t(9946).A)("Settings",[["path",{d:"M12.22 2h-.44a2 2 0 0 0-2 2v.18a2 2 0 0 1-1 1.73l-.43.25a2 2 0 0 1-2 0l-.15-.08a2 2 0 0 0-2.73.73l-.22.38a2 2 0 0 0 .73 2.73l.15.1a2 2 0 0 1 1 1.72v.51a2 2 0 0 1-1 1.74l-.15.09a2 2 0 0 0-.73 2.73l.22.38a2 2 0 0 0 2.73.73l.15-.08a2 2 0 0 1 2 0l.43.25a2 2 0 0 1 1 1.73V20a2 2 0 0 0 2 2h.44a2 2 0 0 0 2-2v-.18a2 2 0 0 1 1-1.73l.43-.25a2 2 0 0 1 2 0l.15.08a2 2 0 0 0 2.73-.73l.22-.39a2 2 0 0 0-.73-2.73l-.15-.08a2 2 0 0 1-1-1.74v-.5a2 2 0 0 1 1-1.74l.15-.09a2 2 0 0 0 .73-2.73l-.22-.38a2 2 0 0 0-2.73-.73l-.15.08a2 2 0 0 1-2 0l-.43-.25a2 2 0 0 1-1-1.73V4a2 2 0 0 0-2-2z",key:"1qme2f"}],["circle",{cx:"12",cy:"12",r:"3",key:"1v7zrd"}]])},1057:(e,s,t)=>{"use strict";t.r(s),t.d(s,{default:()=>u});var a=t(5155),l=t(6874),r=t.n(l),n=t(7168),i=t(8482),c=t(9397),x=t(2138),d=t(381),m=t(5690),o=t(4213),h=t(2115);function u(){var e,s,t;let[l,u]=(0,h.useState)("loading"),[f,p]=(0,h.useState)(null),[j,y]=(0,h.useState)(!0),[g,N]=(0,h.useState)(null),[v,b]=(0,h.useState)(null),[w,A]=(0,h.useState)(!0),[k,C]=(0,h.useState)(null),[R,M]=(0,h.useState)(!0);(0,h.useEffect)(()=>((async function(){u("loading");try{let e=await fetch("http://localhost:8080/v1/livez");if(200!==e.status){u("unavailable");return}}catch(e){u("unavailable");return}try{let e=await fetch("http://localhost:8080/v1/readyz");if(200!==e.status){u("notready");return}u("healthy")}catch(e){u("notready")}})(),()=>{}),[]),(0,h.useEffect)(()=>{let e=!0;return async function(){y(!0),N(null);try{let s=await fetch("http://localhost:8080/v1/config");if(!s.ok)throw Error("Failed to fetch configs");let t=await s.json(),a=null;if(t&&"object"==typeof t&&!Array.isArray(t)&&(a=Object.keys(t).length),null===a)throw console.error("Unexpected configs response:",t),Error("Malformed configs response");e&&p(a)}catch(s){e&&N(s instanceof Error?s.message:"Unknown error")}finally{e&&y(!1)}}(),()=>{e=!1}},[]),(0,h.useEffect)(()=>{let e=!0;return async function(){try{let s=await fetch("http://localhost:8080/v1/systemstats"),t=await s.json();e&&C(t)}catch(e){console.warn("Failed to fetch system stats")}finally{e&&M(!1)}}(),()=>{e=!1}},[]),(0,h.useEffect)(()=>{let e=!0;return async function(){A(!0);try{let s=await fetch("http://localhost:8080/v1/run"),t=await s.json();e&&b(Array.isArray(t)?t:[])}catch(e){console.warn("Failed to fetch runs",e)}finally{e&&A(!1)}}(),()=>{e=!1}},[]);let L=null!==(e=null==v?void 0:v.length)&&void 0!==e?e:0,S=null!==(s=null==v?void 0:v.filter(e=>e.done).length)&&void 0!==s?s:0,B=null!==(t=null==v?void 0:v.filter(e=>!e.done).length)&&void 0!==t?t:0;return(0,a.jsxs)("div",{className:"p-4 sm:p-6 lg:p-8",children:[(0,a.jsxs)("div",{className:"mb-6 sm:mb-8",children:[(0,a.jsx)("h1",{className:"text-2xl sm:text-3xl font-bold mb-2 text-primary-800",children:"Lucille Admin Dashboard"}),(0,a.jsx)("p",{className:"text-muted-foreground",children:"Manage your data pipelines and configurations"})]}),(0,a.jsxs)("div",{className:"grid grid-cols-1 sm:grid-cols-2 lg:grid-cols-3 gap-4 sm:gap-6 mb-6 sm:mb-8",children:[(0,a.jsxs)(i.Zp,{className:"border-primary-100 shadow-sm hover:shadow-md transition-shadow flex flex-col h-full",children:[(0,a.jsxs)(i.aR,{className:"pb-2 space-y-1",children:[(0,a.jsxs)(i.ZB,{className:"flex items-center gap-2 text-base sm:text-lg",children:[(0,a.jsx)(c.A,{className:"h-5 w-5 flex-shrink-0 ".concat("unavailable"===l?"text-red-600":"notready"===l?"text-yellow-600":"text-primary-600")}),(0,a.jsx)("span",{className:"truncate",children:"System Status"})]}),(0,a.jsx)(i.BT,{className:"text-xs sm:text-sm",children:"Current system health and metrics"})]}),(0,a.jsx)(i.Wu,{className:"flex-1",children:(0,a.jsxs)("div",{className:"space-y-2",children:[(0,a.jsxs)("div",{className:"flex justify-between items-center",children:[(0,a.jsx)("span",{className:"text-xs sm:text-sm",children:"API Status"}),"loading"===l&&(0,a.jsx)("span",{className:"inline-flex items-center rounded-full px-2 py-0.5 text-xs font-medium bg-teal-100 text-teal-800",children:"Checking..."}),"healthy"===l&&(0,a.jsx)("span",{className:"inline-flex items-center rounded-full px-2 py-0.5 text-xs font-medium bg-teal-100 text-teal-800",children:"Healthy"}),"notready"===l&&(0,a.jsx)("span",{className:"inline-flex items-center rounded-full px-2 py-0.5 text-xs font-medium bg-yellow-100 text-yellow-800",children:"Not Ready"}),"unavailable"===l&&(0,a.jsx)("span",{className:"inline-flex items-center rounded-full px-2 py-0.5 text-xs font-medium bg-red-100 text-red-800",children:"Lucille Unavailable"})]}),!R&&k&&k.jvm&&k.cpu&&k.ram&&k.storage?(0,a.jsxs)(a.Fragment,{children:[(0,a.jsxs)("div",{className:"flex justify-between items-center",children:[(0,a.jsx)("span",{className:"text-xs sm:text-sm",children:"JVM"}),(0,a.jsxs)("span",{className:"font-medium text-xs sm:text-sm",children:[k.jvm.percent.toFixed(0),"%"]})]}),(0,a.jsxs)("div",{className:"flex justify-between items-center",children:[(0,a.jsx)("span",{className:"text-xs sm:text-sm",children:"CPU"}),(0,a.jsxs)("span",{className:"font-medium text-xs sm:text-sm",children:[k.cpu.percent.toFixed(0),"%"]})]}),(0,a.jsxs)("div",{className:"flex justify-between items-center",children:[(0,a.jsx)("span",{className:"text-xs sm:text-sm",children:"Memory"}),(0,a.jsxs)("span",{className:"font-medium text-xs sm:text-sm",children:[k.ram.percent.toFixed(0),"%"]})]}),(0,a.jsxs)("div",{className:"flex justify-between items-center",children:[(0,a.jsx)("span",{className:"text-xs sm:text-sm",children:"Storage"}),(0,a.jsxs)("span",{className:"font-medium text-xs sm:text-sm",children:[k.storage.percent.toFixed(0),"%"]})]})]}):!R&&(0,a.jsx)("div",{className:"text-sm text-muted-foreground",children:"Please check your Lucille instance"})]})}),(0,a.jsx)(i.wL,{children:(0,a.jsx)(n.$,{variant:"ghost",size:"sm",className:"w-full text-primary-600 hover:text-primary-700 hover:bg-primary-50 text-xs sm:text-sm py-1.5",asChild:!0,children:(0,a.jsxs)(r(),{href:"/health",children:["View Details ",(0,a.jsx)(x.A,{className:"ml-1 h-3 w-3 sm:h-4 sm:w-4"})]})})})]}),(0,a.jsxs)(i.Zp,{className:"border-primary-100 shadow-sm hover:shadow-md transition-shadow flex flex-col h-full",children:[(0,a.jsxs)(i.aR,{className:"pb-2 space-y-1",children:[(0,a.jsxs)(i.ZB,{className:"flex items-center gap-2 text-base sm:text-lg",children:[(0,a.jsx)(d.A,{className:"h-5 w-5 text-primary-600 flex-shrink-0"}),(0,a.jsx)("span",{className:"truncate",children:"Configurations"})]}),(0,a.jsx)(i.BT,{className:"text-xs sm:text-sm",children:"Manage your pipeline configurations"})]}),(0,a.jsx)(i.Wu,{className:"flex-1",children:(0,a.jsx)("div",{className:"space-y-2",children:(0,a.jsxs)("div",{className:"flex justify-between items-center",children:[(0,a.jsx)("span",{className:"text-xs sm:text-sm",children:"Total Configs"}),j?(0,a.jsx)("span",{className:"text-xs font-medium text-muted-foreground",children:"..."}):g?(0,a.jsx)("span",{className:"text-xs font-medium text-red-600",children:"Lucille Unavailable"}):(0,a.jsx)("span",{className:"font-medium text-xs sm:text-sm",children:f})]})})}),(0,a.jsx)(i.wL,{children:(0,a.jsx)(n.$,{variant:"ghost",size:"sm",className:"w-full text-primary-600 hover:text-primary-700 hover:bg-primary-50 text-xs sm:text-sm py-1.5",asChild:!0,children:(0,a.jsxs)(r(),{href:"/configs",children:["Manage Configs ",(0,a.jsx)(x.A,{className:"ml-1 h-3 w-3 sm:h-4 sm:w-4"})]})})})]}),(0,a.jsxs)(i.Zp,{className:"border-primary-100 shadow-sm hover:shadow-md transition-shadow flex flex-col h-full",children:[(0,a.jsxs)(i.aR,{className:"pb-2 space-y-1",children:[(0,a.jsxs)(i.ZB,{className:"flex items-center gap-2 text-base sm:text-lg",children:[(0,a.jsx)(m.A,{className:"h-5 w-5 text-primary-600 flex-shrink-0"}),(0,a.jsx)("span",{className:"truncate",children:"Pipeline Runs"})]}),(0,a.jsx)(i.BT,{className:"text-xs sm:text-sm",children:"Monitor pipeline executions"})]}),(0,a.jsx)(i.Wu,{className:"flex-1",children:(0,a.jsxs)("div",{className:"space-y-2",children:[(0,a.jsxs)("div",{className:"flex justify-between items-center",children:[(0,a.jsx)("span",{className:"text-xs sm:text-sm",children:"Today's Runs"}),w?(0,a.jsx)("span",{className:"text-xs sm:text-sm",children:"Loading..."}):v?(0,a.jsx)("span",{className:"text-xs sm:text-sm",children:L}):(0,a.jsx)("span",{className:"text-xs font-medium text-red-600",children:"Lucille Unavailable"})]}),(0,a.jsxs)("div",{className:"flex justify-between items-center",children:[(0,a.jsx)("span",{className:"text-xs sm:text-sm",children:"Completed"}),(0,a.jsx)("span",{className:"font-medium text-xs sm:text-sm",children:w?"":v?S:""})]}),(0,a.jsxs)("div",{className:"flex justify-between items-center",children:[(0,a.jsx)("span",{className:"text-xs sm:text-sm",children:"Running"}),(0,a.jsx)("span",{className:"inline-flex items-center rounded-full px-2 py-0.5 text-xs font-medium bg-blue-100 text-blue-800",children:w?"":v?"".concat(B," Active"):""})]})]})}),(0,a.jsx)(i.wL,{children:(0,a.jsx)(n.$,{variant:"ghost",size:"sm",className:"w-full text-primary-600 hover:text-primary-700 hover:bg-primary-50 text-xs sm:text-sm py-1.5",asChild:!0,children:(0,a.jsxs)(r(),{href:"/runs",children:["View Runs ",(0,a.jsx)(x.A,{className:"ml-1 h-3 w-3 sm:h-4 sm:w-4"})]})})})]})]}),(0,a.jsxs)("div",{className:"grid grid-cols-1 lg:grid-cols-2 gap-4 sm:gap-6",children:[(0,a.jsxs)(i.Zp,{className:"border-primary-100 shadow-sm flex flex-col h-full",children:[(0,a.jsxs)(i.aR,{children:[(0,a.jsx)(i.ZB,{className:"text-lg sm:text-xl text-primary-800",children:"Recent Runs"}),(0,a.jsx)(i.BT,{className:"text-xs sm:text-sm",children:"Latest pipeline executions"})]}),(0,a.jsx)(i.Wu,{className:"flex-1",children:(0,a.jsx)("div",{className:"space-y-3 sm:space-y-4",children:w?(0,a.jsx)("div",{children:"Loading..."}):v&&v.length>0?v.map(e=>(0,a.jsxs)("div",{className:"flex items-center justify-between border-b pb-3 last:border-0 last:pb-0",children:[(0,a.jsxs)("div",{children:[(0,a.jsxs)("div",{className:"font-medium text-sm sm:text-base",children:["Run ID: ",e.runId]}),(0,a.jsxs)("div",{className:"text-xs sm:text-sm text-muted-foreground",children:["Config ID: ",e.configId]}),(0,a.jsx)("div",{className:"text-xs sm:text-sm text-muted-foreground",children:function(e){let s=Date.now()/1e3-e;return s<60?"".concat(Math.floor(s),"s ago"):s<3600?"".concat(Math.floor(s/60),"m ago"):s<86400?"".concat(Math.floor(s/3600),"h ago"):"".concat(Math.floor(s/86400),"d ago")}(e.startTime)})]}),(0,a.jsx)("div",{children:(0,a.jsx)("span",{className:"inline-flex items-center rounded-full px-2 py-0.5 text-xs font-medium ".concat(e.done?"bg-green-100 text-green-800":"bg-secondary-100 text-secondary-800"),children:e.done?"COMPLETED":"RUNNING"})})]},e.runId)):(0,a.jsx)("div",{className:"text-sm text-muted-foreground",children:"No runs found"})})}),(0,a.jsx)(i.wL,{children:(0,a.jsx)(n.$,{variant:"outline",size:"sm",className:"w-full border-primary-200 text-primary-700 hover:bg-primary-50 text-xs sm:text-sm py-1.5",asChild:!0,children:(0,a.jsx)(r(),{href:"/runs",children:"View All Runs"})})})]}),(0,a.jsxs)(i.Zp,{className:"border-primary-100 shadow-sm flex flex-col h-full",children:[(0,a.jsxs)(i.aR,{children:[(0,a.jsx)(i.ZB,{className:"text-lg sm:text-xl text-primary-800",children:"Quick Actions"}),(0,a.jsx)(i.BT,{className:"text-xs sm:text-sm",children:"Common operations"})]}),(0,a.jsxs)(i.Wu,{className:"flex-1 grid gap-3 sm:gap-4",children:[(0,a.jsx)(n.$,{className:"w-full justify-start bg-primary-600 hover:bg-primary-700 text-xs sm:text-sm py-2 h-auto",asChild:!0,children:(0,a.jsxs)(r(),{href:"/configs/detail?id=new",children:[(0,a.jsx)(d.A,{className:"mr-2 h-4 w-4 flex-shrink-0"})," Create New Configuration"]})}),(0,a.jsx)(n.$,{className:"w-full justify-start bg-secondary-600 hover:bg-secondary-700 text-xs sm:text-sm py-2 h-auto",asChild:!0,children:(0,a.jsxs)(r(),{href:"/runs?id=new",children:[(0,a.jsx)(m.A,{className:"mr-2 h-4 w-4 flex-shrink-0"})," Start New Run"]})}),(0,a.jsx)(n.$,{className:"w-full justify-start text-xs sm:text-sm py-2 h-auto",variant:"outline",asChild:!0,children:(0,a.jsxs)(r(),{href:"/configs/templates",children:[(0,a.jsx)(o.A,{className:"mr-2 h-4 w-4 flex-shrink-0"})," Browse Configuration Templates"]})}),(0,a.jsx)(n.$,{className:"w-full justify-start text-xs sm:text-sm py-2 h-auto",variant:"outline",asChild:!0,children:(0,a.jsxs)(r(),{href:"/health",children:[(0,a.jsx)(c.A,{className:"mr-2 h-4 w-4 flex-shrink-0"})," Check System Health"]})})]})]})]})]})}},2138:(e,s,t)=>{"use strict";t.d(s,{A:()=>a});let a=(0,t(9946).A)("ArrowRight",[["path",{d:"M5 12h14",key:"1ays0h"}],["path",{d:"m12 5 7 7-7 7",key:"xquz4c"}]])},3999:(e,s,t)=>{"use strict";t.d(s,{cn:()=>r});var a=t(2596),l=t(9688);function r(){for(var e=arguments.length,s=Array(e),t=0;t<e;t++)s[t]=arguments[t];return(0,l.QP)((0,a.$)(s))}},4213:(e,s,t)=>{"use strict";t.d(s,{A:()=>a});let a=(0,t(9946).A)("Database",[["ellipse",{cx:"12",cy:"5",rx:"9",ry:"3",key:"msslwz"}],["path",{d:"M3 5V19A9 3 0 0 0 21 19V5",key:"1wlel7"}],["path",{d:"M3 12A9 3 0 0 0 21 12",key:"mv7ke4"}]])},5690:(e,s,t)=>{"use strict";t.d(s,{A:()=>a});let a=(0,t(9946).A)("Play",[["polygon",{points:"6 3 20 12 6 21 6 3",key:"1oa8hb"}]])},7168:(e,s,t)=>{"use strict";t.d(s,{$:()=>x});var a=t(5155),l=t(2115),r=t(9708),n=t(2085),i=t(3999);let c=(0,n.F)("inline-flex items-center justify-center whitespace-nowrap rounded-md text-sm font-medium ring-offset-background transition-colors focus-visible:outline-none focus-visible:ring-2 focus-visible:ring-ring focus-visible:ring-offset-2 disabled:pointer-events-none disabled:opacity-50",{variants:{variant:{default:"bg-primary text-primary-foreground hover:bg-primary/90",destructive:"bg-destructive text-destructive-foreground hover:bg-destructive/90",outline:"border border-input bg-background hover:bg-accent hover:text-accent-foreground",secondary:"bg-secondary text-secondary-foreground hover:bg-secondary/90",ghost:"hover:bg-accent hover:text-accent-foreground",link:"text-primary underline-offset-4 hover:underline"},size:{default:"h-10 px-4 py-2",sm:"h-9 rounded-md px-3",lg:"h-11 rounded-md px-8",icon:"h-10 w-10"}},defaultVariants:{variant:"default",size:"default"}}),x=l.forwardRef((e,s)=>{let{className:t,variant:l,size:n,asChild:x=!1,...d}=e,m=x?r.DX:"button";return(0,a.jsx)(m,{className:(0,i.cn)(c({variant:l,size:n,className:t})),ref:s,...d})});x.displayName="Button"},8482:(e,s,t)=>{"use strict";t.d(s,{BT:()=>x,Wu:()=>d,ZB:()=>c,Zp:()=>n,aR:()=>i,wL:()=>m});var a=t(5155),l=t(2115),r=t(3999);let n=l.forwardRef((e,s)=>{let{className:t,...l}=e;return(0,a.jsx)("div",{ref:s,className:(0,r.cn)("rounded-lg border bg-card text-card-foreground shadow-sm",t),...l})});n.displayName="Card";let i=l.forwardRef((e,s)=>{let{className:t,...l}=e;return(0,a.jsx)("div",{ref:s,className:(0,r.cn)("flex flex-col space-y-1.5 p-6",t),...l})});i.displayName="CardHeader";let c=l.forwardRef((e,s)=>{let{className:t,...l}=e;return(0,a.jsx)("div",{ref:s,className:(0,r.cn)("text-2xl font-semibold leading-none tracking-tight",t),...l})});c.displayName="CardTitle";let x=l.forwardRef((e,s)=>{let{className:t,...l}=e;return(0,a.jsx)("div",{ref:s,className:(0,r.cn)("text-sm text-muted-foreground",t),...l})});x.displayName="CardDescription";let d=l.forwardRef((e,s)=>{let{className:t,...l}=e;return(0,a.jsx)("div",{ref:s,className:(0,r.cn)("p-6 pt-0",t),...l})});d.displayName="CardContent";let m=l.forwardRef((e,s)=>{let{className:t,...l}=e;return(0,a.jsx)("div",{ref:s,className:(0,r.cn)("flex items-center p-6 pt-0",t),...l})});m.displayName="CardFooter"},9070:(e,s,t)=>{Promise.resolve().then(t.bind(t,1057))},9397:(e,s,t)=>{"use strict";t.d(s,{A:()=>a});let a=(0,t(9946).A)("Activity",[["path",{d:"M22 12h-2.48a2 2 0 0 0-1.93 1.46l-2.35 8.36a.25.25 0 0 1-.48 0L9.24 2.18a.25.25 0 0 0-.48 0l-2.35 8.36A2 2 0 0 1 4.49 12H2",key:"169zse"}]])}},e=>{var s=s=>e(e.s=s);e.O(0,[201,411,441,684,358],()=>s(9070)),_N_E=e.O()}]);