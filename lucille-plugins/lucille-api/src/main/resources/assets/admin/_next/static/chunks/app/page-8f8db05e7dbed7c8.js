(self.webpackChunk_N_E=self.webpackChunk_N_E||[]).push([[974],{381:(e,s,t)=>{"use strict";t.d(s,{A:()=>a});let a=(0,t(9946).A)("Settings",[["path",{d:"M12.22 2h-.44a2 2 0 0 0-2 2v.18a2 2 0 0 1-1 1.73l-.43.25a2 2 0 0 1-2 0l-.15-.08a2 2 0 0 0-2.73.73l-.22.38a2 2 0 0 0 .73 2.73l.15.1a2 2 0 0 1 1 1.72v.51a2 2 0 0 1-1 1.74l-.15.09a2 2 0 0 0-.73 2.73l.22.38a2 2 0 0 0 2.73.73l.15-.08a2 2 0 0 1 2 0l.43.25a2 2 0 0 1 1 1.73V20a2 2 0 0 0 2 2h.44a2 2 0 0 0 2-2v-.18a2 2 0 0 1 1-1.73l.43-.25a2 2 0 0 1 2 0l.15.08a2 2 0 0 0 2.73-.73l.22-.39a2 2 0 0 0-.73-2.73l-.15-.08a2 2 0 0 1-1-1.74v-.5a2 2 0 0 1 1-1.74l.15-.09a2 2 0 0 0 .73-2.73l-.22-.38a2 2 0 0 0-2.73-.73l-.15.08a2 2 0 0 1-2 0l-.43-.25a2 2 0 0 1-1-1.73V4a2 2 0 0 0-2-2z",key:"1qme2f"}],["circle",{cx:"12",cy:"12",r:"3",key:"1v7zrd"}]])},2138:(e,s,t)=>{"use strict";t.d(s,{A:()=>a});let a=(0,t(9946).A)("ArrowRight",[["path",{d:"M5 12h14",key:"1ays0h"}],["path",{d:"m12 5 7 7-7 7",key:"xquz4c"}]])},3999:(e,s,t)=>{"use strict";t.d(s,{cn:()=>r});var a=t(2596),l=t(9688);function r(){for(var e=arguments.length,s=Array(e),t=0;t<e;t++)s[t]=arguments[t];return(0,l.QP)((0,a.$)(s))}},4213:(e,s,t)=>{"use strict";t.d(s,{A:()=>a});let a=(0,t(9946).A)("Database",[["ellipse",{cx:"12",cy:"5",rx:"9",ry:"3",key:"msslwz"}],["path",{d:"M3 5V19A9 3 0 0 0 21 19V5",key:"1wlel7"}],["path",{d:"M3 12A9 3 0 0 0 21 12",key:"mv7ke4"}]])},5690:(e,s,t)=>{"use strict";t.d(s,{A:()=>a});let a=(0,t(9946).A)("Play",[["polygon",{points:"6 3 20 12 6 21 6 3",key:"1oa8hb"}]])},6442:(e,s,t)=>{"use strict";t.r(s),t.d(s,{default:()=>j});var a=t(5155),l=t(6874),r=t.n(l),n=t(7168),c=t(8482),i=t(9397),d=t(9946);let o=(0,d.A)("CircleCheckBig",[["path",{d:"M21.801 10A10 10 0 1 1 17 3.335",key:"yps3ct"}],["path",{d:"m9 11 3 3L22 4",key:"1pflzl"}]]),x=(0,d.A)("CircleX",[["circle",{cx:"12",cy:"12",r:"10",key:"1mglay"}],["path",{d:"m15 9-6 6",key:"1uzhvr"}],["path",{d:"m9 9 6 6",key:"z0biqf"}]]);var m=t(4213);let h=(0,d.A)("Server",[["rect",{width:"20",height:"8",x:"2",y:"2",rx:"2",ry:"2",key:"ngkwjq"}],["rect",{width:"20",height:"8",x:"2",y:"14",rx:"2",ry:"2",key:"iecqi9"}],["line",{x1:"6",x2:"6.01",y1:"6",y2:"6",key:"16zg32"}],["line",{x1:"6",x2:"6.01",y1:"18",y2:"18",key:"nzw8ys"}]]);var u=t(381),f=t(2138),p=t(5690),y=t(2115);function g(e){if(0===e)return"0 Bytes";let s=Math.floor(Math.log(e)/Math.log(1024));return"".concat((e/Math.pow(1024,s)).toFixed(1)," ").concat(["Bytes","KB","MB","GB","TB"][s])}function j(){var e,s,t;let[l,d]=(0,y.useState)("loading"),[j,v]=(0,y.useState)(null),[N,b]=(0,y.useState)(!0),[w,A]=(0,y.useState)(null),[k,C]=(0,y.useState)(null),[R,B]=(0,y.useState)(!0),[M,Z]=(0,y.useState)(null),[z,L]=(0,y.useState)(!0),[S,F]=(0,y.useState)(null),[E,W]=(0,y.useState)(!0);(0,y.useEffect)(()=>((async function(){d("loading");try{let e=await fetch("http://localhost:8080/v1/livez");if(200!==e.status){d("unavailable");return}}catch(e){d("unavailable");return}try{let e=await fetch("http://localhost:8080/v1/readyz");if(200!==e.status){d("notready");return}d("healthy")}catch(e){d("notready")}})(),()=>{}),[]),(0,y.useEffect)(()=>{let e=!0;return async function(){b(!0),A(null);try{let s=await fetch("http://localhost:8080/v1/config");if(!s.ok)throw Error("Failed to fetch configs");let t=await s.json(),a=null;if(t&&"object"==typeof t&&!Array.isArray(t)&&(a=Object.keys(t).length),null===a)throw console.error("Unexpected configs response:",t),Error("Malformed configs response");e&&v(a)}catch(s){e&&A(s instanceof Error?s.message:"Unknown error")}finally{e&&b(!1)}}(),()=>{e=!1}},[]),(0,y.useEffect)(()=>{let e=!0;async function s(){try{let s=await fetch("http://localhost:8080/v1/systemstats"),t=await s.json();e&&(Z(t),F(t))}catch(e){console.warn("Failed to fetch system stats")}finally{e&&(L(!1),W(!1))}}s();let t=setInterval(s,5e3);return()=>{e=!1,clearInterval(t)}},[]),(0,y.useEffect)(()=>{let e=!0;return async function(){B(!0);try{let s=await fetch("http://localhost:8080/v1/run"),t=await s.json();e&&C(Array.isArray(t)?t:[])}catch(e){console.warn("Failed to fetch runs",e)}finally{e&&B(!1)}}(),()=>{e=!1}},[]);let P=null!==(e=null==k?void 0:k.length)&&void 0!==e?e:0,T=null!==(s=null==k?void 0:k.filter(e=>e.done).length)&&void 0!==s?s:0,V=null!==(t=null==k?void 0:k.filter(e=>!e.done).length)&&void 0!==t?t:0;return(0,a.jsxs)("div",{className:"p-4 sm:p-6 lg:p-8",children:[(0,a.jsxs)("div",{className:"mb-6 sm:mb-8",children:[(0,a.jsx)("h1",{className:"text-3xl font-bold mb-2 text-primary-800",children:"Lucille Admin Dashboard"}),(0,a.jsx)("p",{className:"text-muted-foreground",children:"Manage your data pipelines, configurations, and system health"})]}),(0,a.jsxs)("div",{className:"grid grid-cols-1 md:grid-cols-3 lg:grid-cols-5 gap-4 sm:gap-6 mb-8",children:[(0,a.jsxs)(c.Zp,{className:"border-primary-100 shadow-sm hover:shadow-md transition-shadow flex flex-col h-full ".concat("unavailable"===l?"border-red-100 bg-red-50":"border-teal-100"),children:[(0,a.jsx)(c.aR,{className:"pb-2 space-y-1",children:(0,a.jsxs)(c.ZB,{className:"flex items-center gap-2 text-base sm:text-lg ".concat("unavailable"===l?"text-red-700":"text-teal-700"),children:["loading"===l?(0,a.jsx)(i.A,{className:"h-5 w-5 animate-spin text-teal-500"}):"healthy"===l?(0,a.jsx)(o,{className:"h-5 w-5 text-teal-500"}):(0,a.jsx)(x,{className:"h-5 w-5 text-red-500"}),(0,a.jsx)("span",{children:"API Status"})]})}),(0,a.jsx)(c.Wu,{className:"flex-1",children:"loading"===l?(0,a.jsx)("div",{className:"text-2xl font-bold text-teal-700",children:"Checking..."}):"healthy"===l?(0,a.jsxs)(a.Fragment,{children:[(0,a.jsx)("div",{className:"text-2xl font-bold text-teal-700",children:"Healthy"}),(0,a.jsx)("div",{className:"text-sm text-teal-600",children:"All systems operational"})]}):"unavailable"===l?(0,a.jsxs)(a.Fragment,{children:[(0,a.jsx)("div",{className:"text-2xl font-bold text-red-700",children:"Unhealthy"}),(0,a.jsx)("div",{className:"text-sm text-red-600",children:"Lucille API server is unavailable."})]}):(0,a.jsxs)(a.Fragment,{children:[(0,a.jsx)("div",{className:"text-2xl font-bold text-yellow-700",children:"Not Ready"}),(0,a.jsx)("div",{className:"text-sm text-yellow-600",children:"Lucille API server is not ready to take requests yet."})]})})]}),(0,a.jsxs)(c.Zp,{className:"border-blue-100 shadow-sm",children:[(0,a.jsx)(c.aR,{className:"pb-2",children:(0,a.jsxs)(c.ZB,{className:"flex items-center gap-2",children:[(0,a.jsx)(m.A,{className:"h-5 w-5 text-blue-500"}),"Storage"]})}),(0,a.jsxs)(c.Wu,{children:[(0,a.jsx)("div",{className:"text-2xl font-bold text-blue-700",children:E?"Loading...":S?"".concat(S.storage.percent.toFixed(0),"%"):"N/A"}),(0,a.jsx)("div",{className:"text-sm text-muted-foreground",children:E?"":S?"".concat(g(S.storage.available)," free of ").concat(g(S.storage.total)):""})]})]}),(0,a.jsxs)(c.Zp,{className:"border-teal-100 shadow-sm",children:[(0,a.jsx)(c.aR,{className:"pb-2",children:(0,a.jsxs)(c.ZB,{className:"flex items-center gap-2",children:[(0,a.jsx)(h,{className:"h-5 w-5 text-teal-500"}),"Memory"]})}),(0,a.jsxs)(c.Wu,{children:[(0,a.jsx)("div",{className:"text-2xl font-bold text-teal-700",children:E?"Loading...":S?"".concat(S.ram.percent.toFixed(0),"%"):"N/A"}),(0,a.jsx)("div",{className:"text-sm text-muted-foreground",children:E?"":S?"".concat(g(S.ram.used)," used of ").concat(g(S.ram.total)):""})]})]}),(0,a.jsxs)(c.Zp,{className:"border-blue-100 shadow-sm",children:[(0,a.jsx)(c.aR,{className:"pb-2",children:(0,a.jsxs)(c.ZB,{className:"flex items-center gap-2",children:[(0,a.jsx)(i.A,{className:"h-5 w-5 text-blue-500"}),"CPU"]})}),(0,a.jsxs)(c.Wu,{children:[(0,a.jsx)("div",{className:"text-2xl font-bold text-blue-700",children:E?"Loading...":S?"".concat(S.cpu.percent.toFixed(0),"%"):"N/A"}),(0,a.jsx)("div",{className:"text-sm text-muted-foreground",children:E?"":S?"Load Avg: ".concat(S.cpu.loadAverage.toFixed(2)):""})]})]}),(0,a.jsxs)(c.Zp,{className:"border-orange-100 shadow-sm",children:[(0,a.jsx)(c.aR,{className:"pb-2",children:(0,a.jsxs)(c.ZB,{className:"flex items-center gap-2",children:[(0,a.jsx)(h,{className:"h-5 w-5 text-orange-500"}),"JVM"]})}),(0,a.jsxs)(c.Wu,{children:[(0,a.jsx)("div",{className:"text-2xl font-bold text-orange-700",children:E?"Loading...":S?"".concat(S.jvm.percent.toFixed(0),"%"):"N/A"}),(0,a.jsx)("div",{className:"text-sm text-muted-foreground",children:E?"":S?"".concat(g(S.jvm.used)," used of ").concat(g(S.jvm.total)):""})]})]})]}),(0,a.jsxs)("div",{className:"grid grid-cols-1 sm:grid-cols-2 lg:grid-cols-3 gap-4 sm:gap-6 mb-8",children:[(0,a.jsxs)(c.Zp,{className:"border-primary-100 shadow-sm hover:shadow-md transition-shadow flex flex-col h-full",children:[(0,a.jsxs)(c.aR,{className:"pb-2 space-y-1",children:[(0,a.jsxs)(c.ZB,{className:"flex items-center gap-2 text-base sm:text-lg",children:[(0,a.jsx)(u.A,{className:"h-5 w-5 text-primary-600 flex-shrink-0"}),(0,a.jsx)("span",{className:"truncate",children:"Configurations"})]}),(0,a.jsx)(c.BT,{className:"text-xs sm:text-sm",children:"Manage your pipeline configurations"})]}),(0,a.jsx)(c.Wu,{className:"flex-1",children:(0,a.jsx)("div",{className:"space-y-2",children:(0,a.jsxs)("div",{className:"flex justify-between items-center",children:[(0,a.jsx)("span",{className:"text-xs sm:text-sm",children:"Total Configs"}),N?(0,a.jsx)("span",{className:"text-xs font-medium text-muted-foreground",children:"..."}):w?(0,a.jsx)("span",{className:"text-xs font-medium text-red-600",children:"Lucille Unavailable"}):(0,a.jsx)("span",{className:"font-medium text-xs sm:text-sm",children:j})]})})}),(0,a.jsx)(c.wL,{children:(0,a.jsx)(n.$,{variant:"ghost",size:"sm",className:"w-full text-primary-600 hover:text-primary-700 hover:bg-primary-50 text-xs sm:text-sm py-1.5",asChild:!0,children:(0,a.jsxs)(r(),{href:"/configs",children:["Manage Configs ",(0,a.jsx)(f.A,{className:"ml-1 h-3 w-3 sm:h-4 sm:w-4"})]})})})]}),(0,a.jsxs)(c.Zp,{className:"border-primary-100 shadow-sm hover:shadow-md transition-shadow flex flex-col h-full",children:[(0,a.jsxs)(c.aR,{className:"pb-2 space-y-1",children:[(0,a.jsxs)(c.ZB,{className:"flex items-center gap-2 text-base sm:text-lg",children:[(0,a.jsx)(p.A,{className:"h-5 w-5 text-primary-600 flex-shrink-0"}),(0,a.jsx)("span",{className:"truncate",children:"Pipeline Runs"})]}),(0,a.jsx)(c.BT,{className:"text-xs sm:text-sm",children:"Monitor pipeline executions"})]}),(0,a.jsx)(c.Wu,{className:"flex-1",children:(0,a.jsxs)("div",{className:"space-y-2",children:[(0,a.jsxs)("div",{className:"flex justify-between items-center",children:[(0,a.jsx)("span",{className:"text-xs sm:text-sm",children:"Today's Runs"}),R?(0,a.jsx)("span",{className:"text-xs sm:text-sm",children:"Loading..."}):k?(0,a.jsx)("span",{className:"text-xs sm:text-sm",children:P}):(0,a.jsx)("span",{className:"text-xs font-medium text-red-600",children:"Lucille Unavailable"})]}),(0,a.jsxs)("div",{className:"flex justify-between items-center",children:[(0,a.jsx)("span",{className:"text-xs sm:text-sm",children:"Completed"}),(0,a.jsx)("span",{className:"font-medium text-xs sm:text-sm",children:R?"":k?T:""})]}),(0,a.jsxs)("div",{className:"flex justify-between items-center",children:[(0,a.jsx)("span",{className:"text-xs sm:text-sm",children:"Running"}),(0,a.jsx)("span",{className:"inline-flex items-center rounded-full px-2 py-0.5 text-xs font-medium bg-blue-100 text-blue-800",children:R?"":k?"".concat(V," Active"):""})]})]})}),(0,a.jsx)(c.wL,{children:(0,a.jsx)(n.$,{variant:"ghost",size:"sm",className:"w-full text-primary-600 hover:text-primary-700 hover:bg-primary-50 text-xs sm:text-sm py-1.5",asChild:!0,children:(0,a.jsxs)(r(),{href:"/runs",children:["View Runs ",(0,a.jsx)(f.A,{className:"ml-1 h-3 w-3 sm:h-4 sm:w-4"})]})})})]}),(0,a.jsxs)(c.Zp,{className:"border-primary-100 shadow-sm flex flex-col h-full",children:[(0,a.jsxs)(c.aR,{children:[(0,a.jsx)(c.ZB,{className:"text-lg sm:text-xl text-primary-800",children:"Quick Actions"}),(0,a.jsx)(c.BT,{className:"text-xs sm:text-sm",children:"Common operations"})]}),(0,a.jsxs)(c.Wu,{className:"flex-1 grid gap-3 sm:gap-4",children:[(0,a.jsx)(n.$,{className:"w-full justify-start bg-primary-600 hover:bg-primary-700 text-xs sm:text-sm py-2 h-auto",asChild:!0,children:(0,a.jsxs)(r(),{href:"/configs/detail?id=new",children:[(0,a.jsx)(u.A,{className:"mr-2 h-4 w-4 flex-shrink-0"})," Create New Configuration"]})}),(0,a.jsx)(n.$,{className:"w-full justify-start bg-secondary-600 hover:bg-secondary-700 text-xs sm:text-sm py-2 h-auto",asChild:!0,children:(0,a.jsxs)(r(),{href:"/runs?id=new",children:[(0,a.jsx)(p.A,{className:"mr-2 h-4 w-4 flex-shrink-0"})," Start New Run"]})})]})]})]})]})}},7168:(e,s,t)=>{"use strict";t.d(s,{$:()=>d});var a=t(5155),l=t(2115),r=t(9708),n=t(2085),c=t(3999);let i=(0,n.F)("inline-flex items-center justify-center whitespace-nowrap rounded-md text-sm font-medium ring-offset-background transition-colors focus-visible:outline-none focus-visible:ring-2 focus-visible:ring-ring focus-visible:ring-offset-2 disabled:pointer-events-none disabled:opacity-50",{variants:{variant:{default:"bg-primary text-primary-foreground hover:bg-primary/90",destructive:"bg-destructive text-destructive-foreground hover:bg-destructive/90",outline:"border border-input bg-background hover:bg-accent hover:text-accent-foreground",secondary:"bg-secondary text-secondary-foreground hover:bg-secondary/90",ghost:"hover:bg-accent hover:text-accent-foreground",link:"text-primary underline-offset-4 hover:underline"},size:{default:"h-10 px-4 py-2",sm:"h-9 rounded-md px-3",lg:"h-11 rounded-md px-8",icon:"h-10 w-10"}},defaultVariants:{variant:"default",size:"default"}}),d=l.forwardRef((e,s)=>{let{className:t,variant:l,size:n,asChild:d=!1,...o}=e,x=d?r.DX:"button";return(0,a.jsx)(x,{className:(0,c.cn)(i({variant:l,size:n,className:t})),ref:s,...o})});d.displayName="Button"},8482:(e,s,t)=>{"use strict";t.d(s,{BT:()=>d,Wu:()=>o,ZB:()=>i,Zp:()=>n,aR:()=>c,wL:()=>x});var a=t(5155),l=t(2115),r=t(3999);let n=l.forwardRef((e,s)=>{let{className:t,...l}=e;return(0,a.jsx)("div",{ref:s,className:(0,r.cn)("rounded-lg border bg-card text-card-foreground shadow-sm",t),...l})});n.displayName="Card";let c=l.forwardRef((e,s)=>{let{className:t,...l}=e;return(0,a.jsx)("div",{ref:s,className:(0,r.cn)("flex flex-col space-y-1.5 p-6",t),...l})});c.displayName="CardHeader";let i=l.forwardRef((e,s)=>{let{className:t,...l}=e;return(0,a.jsx)("div",{ref:s,className:(0,r.cn)("text-2xl font-semibold leading-none tracking-tight",t),...l})});i.displayName="CardTitle";let d=l.forwardRef((e,s)=>{let{className:t,...l}=e;return(0,a.jsx)("div",{ref:s,className:(0,r.cn)("text-sm text-muted-foreground",t),...l})});d.displayName="CardDescription";let o=l.forwardRef((e,s)=>{let{className:t,...l}=e;return(0,a.jsx)("div",{ref:s,className:(0,r.cn)("p-6 pt-0",t),...l})});o.displayName="CardContent";let x=l.forwardRef((e,s)=>{let{className:t,...l}=e;return(0,a.jsx)("div",{ref:s,className:(0,r.cn)("flex items-center p-6 pt-0",t),...l})});x.displayName="CardFooter"},9397:(e,s,t)=>{"use strict";t.d(s,{A:()=>a});let a=(0,t(9946).A)("Activity",[["path",{d:"M22 12h-2.48a2 2 0 0 0-1.93 1.46l-2.35 8.36a.25.25 0 0 1-.48 0L9.24 2.18a.25.25 0 0 0-.48 0l-2.35 8.36A2 2 0 0 1 4.49 12H2",key:"169zse"}]])},9570:(e,s,t)=>{Promise.resolve().then(t.bind(t,6442))}},e=>{var s=s=>e(e.s=s);e.O(0,[455,874,441,684,358],()=>s(9570)),_N_E=e.O()}]);