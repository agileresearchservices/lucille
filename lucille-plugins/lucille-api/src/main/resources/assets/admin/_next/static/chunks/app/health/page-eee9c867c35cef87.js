(self.webpackChunk_N_E=self.webpackChunk_N_E||[]).push([[653],{2831:(e,s,t)=>{"use strict";t.r(s),t.d(s,{default:()=>v});var a=t(5155),l=t(8482),d=t(2115),r=t(6049),c=t(3999);let i=r.bL,n=d.forwardRef((e,s)=>{let{className:t,...l}=e;return(0,a.jsx)(r.B8,{ref:s,className:(0,c.cn)("inline-flex h-10 items-center justify-center rounded-md bg-muted p-1 text-muted-foreground",t),...l})});n.displayName=r.B8.displayName;let m=d.forwardRef((e,s)=>{let{className:t,...l}=e;return(0,a.jsx)(r.l9,{ref:s,className:(0,c.cn)("inline-flex items-center justify-center whitespace-nowrap rounded-sm px-3 py-1.5 text-sm font-medium ring-offset-background transition-all focus-visible:outline-none focus-visible:ring-2 focus-visible:ring-ring focus-visible:ring-offset-2 disabled:pointer-events-none disabled:opacity-50 data-[state=active]:bg-background data-[state=active]:text-foreground data-[state=active]:shadow-sm",t),...l})});m.displayName=r.l9.displayName;let o=d.forwardRef((e,s)=>{let{className:t,...l}=e;return(0,a.jsx)(r.UC,{ref:s,className:(0,c.cn)("mt-2 ring-offset-background focus-visible:outline-none focus-visible:ring-2 focus-visible:ring-ring focus-visible:ring-offset-2",t),...l})});o.displayName=r.UC.displayName;var x=t(9397),h=t(646),u=t(4861),j=t(4213),N=t(5487);function f(e){if(0===e)return"0 Bytes";let s=Math.floor(Math.log(e)/Math.log(1024));return"".concat((e/Math.pow(1024,s)).toFixed(1)," ").concat(["Bytes","KB","MB","GB","TB"][s])}function v(){let[e,s]=(0,d.useState)("loading"),[t,r]=(0,d.useState)(null),[c,v]=(0,d.useState)(!0);return(0,d.useEffect)(()=>((async function(){s("loading");try{if((await fetch("http://localhost:8080/v1/livez")).ok);else{s("unavailable");return}}catch(e){s("unavailable");return}try{(await fetch("http://localhost:8080/v1/readyz")).ok?s("healthy"):s("notready")}catch(e){s("notready")}})(),()=>{}),[]),(0,d.useEffect)(()=>{(async function(){let e=null;try{let s=await fetch("http://localhost:8080/v1/systemstats");s.ok?e=await s.json():console.warn("System stats error:",s)}catch(e){console.warn("Failed to fetch system stats",e)}r(e),v(!1)})()},[]),(0,a.jsxs)("div",{className:"p-8",children:[(0,a.jsxs)("div",{className:"mb-8",children:[(0,a.jsx)("h1",{className:"text-3xl font-bold mb-2 text-teal-800",children:"System Health"}),(0,a.jsx)("p",{className:"text-muted-foreground",children:"Monitor the health and status of your Lucille deployment"})]}),(0,a.jsxs)("div",{className:"grid grid-cols-1 md:grid-cols-2 lg:grid-cols-5 gap-6 mb-8",children:[(0,a.jsxs)(l.Zp,{className:"unavailable"===e?"border-red-100 shadow-sm bg-red-50":"border-teal-100 shadow-sm",children:[(0,a.jsx)(l.aR,{className:"pb-2",children:(0,a.jsxs)(l.ZB,{className:"flex items-center gap-2 text-".concat("unavailable"===e?"red":"teal","-700"),children:["loading"===e?(0,a.jsx)(x.A,{className:"h-5 w-5 animate-spin text-teal-500"}):"healthy"===e?(0,a.jsx)(h.A,{className:"h-5 w-5 text-teal-500"}):(0,a.jsx)(u.A,{className:"h-5 w-5 text-red-500"}),"API Status"]})}),(0,a.jsx)(l.Wu,{children:"loading"===e?(0,a.jsx)("div",{className:"text-2xl font-bold text-teal-700",children:"Checking..."}):"healthy"===e?(0,a.jsxs)(a.Fragment,{children:[(0,a.jsx)("div",{className:"text-2xl font-bold text-teal-700",children:"Healthy"}),(0,a.jsx)("div",{className:"text-sm text-teal-600",children:"All systems operational"})]}):"unavailable"===e?(0,a.jsxs)(a.Fragment,{children:[(0,a.jsx)("div",{className:"text-2xl font-bold text-red-700",children:"Unhealthy"}),(0,a.jsx)("div",{className:"text-sm text-red-600",children:"Lucille API server is unavailable."})]}):(0,a.jsxs)(a.Fragment,{children:[(0,a.jsx)("div",{className:"text-2xl font-bold text-yellow-700",children:"Not Ready"}),(0,a.jsx)("div",{className:"text-sm text-yellow-600",children:"Lucille API server is not ready to take requests yet."})]})})]}),(0,a.jsxs)(l.Zp,{className:"border-blue-100 shadow-sm",children:[(0,a.jsx)(l.aR,{className:"pb-2",children:(0,a.jsxs)(l.ZB,{className:"flex items-center gap-2",children:[(0,a.jsx)(j.A,{className:"h-5 w-5 text-blue-500"}),"Storage"]})}),(0,a.jsxs)(l.Wu,{children:[(0,a.jsx)("div",{className:"text-2xl font-bold text-blue-700",children:c?"Loading...":t?"".concat(t.storage.percent.toFixed(0),"%"):"N/A"}),(0,a.jsx)("div",{className:"text-sm text-muted-foreground",children:c?"":t?"".concat(f(t.storage.available)," free of ").concat(f(t.storage.total)):""})]})]}),(0,a.jsxs)(l.Zp,{className:"border-teal-100 shadow-sm",children:[(0,a.jsx)(l.aR,{className:"pb-2",children:(0,a.jsxs)(l.ZB,{className:"flex items-center gap-2",children:[(0,a.jsx)(N.A,{className:"h-5 w-5 text-teal-500"}),"Memory"]})}),(0,a.jsxs)(l.Wu,{children:[(0,a.jsx)("div",{className:"text-2xl font-bold text-teal-700",children:c?"Loading...":t?"".concat(t.ram.percent.toFixed(0),"%"):"N/A"}),(0,a.jsx)("div",{className:"text-sm text-muted-foreground",children:c?"":t?"".concat(f(t.ram.used)," used of ").concat(f(t.ram.total)):""})]})]}),(0,a.jsxs)(l.Zp,{className:"border-blue-100 shadow-sm",children:[(0,a.jsx)(l.aR,{className:"pb-2",children:(0,a.jsxs)(l.ZB,{className:"flex items-center gap-2",children:[(0,a.jsx)(x.A,{className:"h-5 w-5 text-blue-500"}),"CPU"]})}),(0,a.jsxs)(l.Wu,{children:[(0,a.jsx)("div",{className:"text-2xl font-bold text-blue-700",children:c?"Loading...":t?"".concat(t.cpu.percent.toFixed(0),"%"):"N/A"}),(0,a.jsx)("div",{className:"text-sm text-muted-foreground",children:c?"":t?"Load Avg: ".concat(t.cpu.loadAverage.toFixed(2)):""})]})]}),(0,a.jsxs)(l.Zp,{className:"border-orange-100 shadow-sm",children:[(0,a.jsx)(l.aR,{className:"pb-2",children:(0,a.jsxs)(l.ZB,{className:"flex items-center gap-2",children:[(0,a.jsx)(N.A,{className:"h-5 w-5 text-orange-500"}),"JVM"]})}),(0,a.jsxs)(l.Wu,{children:[(0,a.jsx)("div",{className:"text-2xl font-bold text-orange-700",children:c?"Loading...":t?"".concat(t.jvm.percent.toFixed(0),"%"):"N/A"}),(0,a.jsx)("div",{className:"text-sm text-muted-foreground",children:c?"":t?"".concat(f(t.jvm.used)," used of ").concat(f(t.jvm.total)):""})]})]})]}),(0,a.jsxs)(i,{defaultValue:"services",children:[(0,a.jsxs)(n,{className:"mb-4 bg-white border border-blue-100",children:[(0,a.jsx)(m,{value:"services",className:"data-[state=active]:bg-tech-gradient data-[state=active]:text-white",children:"Services"}),(0,a.jsx)(m,{value:"dependencies",className:"data-[state=active]:bg-tech-gradient data-[state=active]:text-white",children:"Dependencies"}),(0,a.jsx)(m,{value:"logs",className:"data-[state=active]:bg-tech-gradient data-[state=active]:text-white",children:"System Logs"})]}),(0,a.jsx)(o,{value:"services",children:(0,a.jsxs)(l.Zp,{className:"border-teal-100 shadow-sm",children:[(0,a.jsxs)(l.aR,{children:[(0,a.jsx)(l.ZB,{className:"text-teal-800",children:"Service Status"}),(0,a.jsx)(l.BT,{children:"Health status of all Lucille services"})]}),(0,a.jsx)(l.Wu,{children:(0,a.jsx)("div",{className:"space-y-4",children:(0,a.jsxs)("div",{className:"grid grid-cols-1 md:grid-cols-2 lg:grid-cols-3 gap-4",children:[(0,a.jsxs)("div",{className:"border border-teal-100 rounded-md p-4 shadow-sm",children:[(0,a.jsxs)("div",{className:"flex items-center justify-between mb-2",children:[(0,a.jsx)("div",{className:"font-medium",children:"API Service"}),(0,a.jsxs)("div",{className:"flex items-center text-teal-600",children:[(0,a.jsx)(h.A,{className:"h-4 w-4 mr-1"})," Healthy"]})]}),(0,a.jsx)("div",{className:"text-sm text-muted-foreground",children:"Uptime: 15 days, 7 hours"})]}),(0,a.jsxs)("div",{className:"border border-blue-100 rounded-md p-4 shadow-sm",children:[(0,a.jsxs)("div",{className:"flex items-center justify-between mb-2",children:[(0,a.jsx)("div",{className:"font-medium",children:"Connector Service"}),(0,a.jsxs)("div",{className:"flex items-center text-teal-600",children:[(0,a.jsx)(h.A,{className:"h-4 w-4 mr-1"})," Healthy"]})]}),(0,a.jsx)("div",{className:"text-sm text-muted-foreground",children:"Uptime: 15 days, 7 hours"})]}),(0,a.jsxs)("div",{className:"border border-teal-100 rounded-md p-4 shadow-sm",children:[(0,a.jsxs)("div",{className:"flex items-center justify-between mb-2",children:[(0,a.jsx)("div",{className:"font-medium",children:"Pipeline Service"}),(0,a.jsxs)("div",{className:"flex items-center text-teal-600",children:[(0,a.jsx)(h.A,{className:"h-4 w-4 mr-1"})," Healthy"]})]}),(0,a.jsx)("div",{className:"text-sm text-muted-foreground",children:"Uptime: 15 days, 7 hours"})]}),(0,a.jsxs)("div",{className:"border border-blue-100 rounded-md p-4 shadow-sm",children:[(0,a.jsxs)("div",{className:"flex items-center justify-between mb-2",children:[(0,a.jsx)("div",{className:"font-medium",children:"Indexer Service"}),(0,a.jsxs)("div",{className:"flex items-center text-teal-600",children:[(0,a.jsx)(h.A,{className:"h-4 w-4 mr-1"})," Healthy"]})]}),(0,a.jsx)("div",{className:"text-sm text-muted-foreground",children:"Uptime: 15 days, 7 hours"})]}),(0,a.jsxs)("div",{className:"border border-teal-100 rounded-md p-4 shadow-sm",children:[(0,a.jsxs)("div",{className:"flex items-center justify-between mb-2",children:[(0,a.jsx)("div",{className:"font-medium",children:"Scheduler Service"}),(0,a.jsxs)("div",{className:"flex items-center text-teal-600",children:[(0,a.jsx)(h.A,{className:"h-4 w-4 mr-1"})," Healthy"]})]}),(0,a.jsx)("div",{className:"text-sm text-muted-foreground",children:"Uptime: 15 days, 7 hours"})]}),(0,a.jsxs)("div",{className:"border border-blue-100 rounded-md p-4 shadow-sm",children:[(0,a.jsxs)("div",{className:"flex items-center justify-between mb-2",children:[(0,a.jsx)("div",{className:"font-medium",children:"Monitoring Service"}),(0,a.jsxs)("div",{className:"flex items-center text-yellow-600",children:[(0,a.jsx)(x.A,{className:"h-4 w-4 mr-1"})," Degraded"]})]}),(0,a.jsx)("div",{className:"text-sm text-muted-foreground",children:"Uptime: 2 days, 3 hours"})]})]})})})]})}),(0,a.jsx)(o,{value:"dependencies",children:(0,a.jsxs)(l.Zp,{className:"border-blue-100 shadow-sm",children:[(0,a.jsxs)(l.aR,{children:[(0,a.jsx)(l.ZB,{className:"text-blue-800",children:"External Dependencies"}),(0,a.jsx)(l.BT,{children:"Status of connected systems and services"})]}),(0,a.jsx)(l.Wu,{children:(0,a.jsx)("div",{className:"space-y-4",children:(0,a.jsxs)("div",{className:"grid grid-cols-1 md:grid-cols-2 lg:grid-cols-3 gap-4",children:[(0,a.jsxs)("div",{className:"border border-teal-100 rounded-md p-4 shadow-sm",children:[(0,a.jsxs)("div",{className:"flex items-center justify-between mb-2",children:[(0,a.jsx)("div",{className:"font-medium",children:"Elasticsearch"}),(0,a.jsxs)("div",{className:"flex items-center text-teal-600",children:[(0,a.jsx)(h.A,{className:"h-4 w-4 mr-1"})," Connected"]})]}),(0,a.jsx)("div",{className:"text-sm text-muted-foreground",children:"Version: 7.17.0"}),(0,a.jsx)("div",{className:"text-sm text-muted-foreground",children:"Endpoint: http://elasticsearch:9200"})]}),(0,a.jsxs)("div",{className:"border border-blue-100 rounded-md p-4 shadow-sm",children:[(0,a.jsxs)("div",{className:"flex items-center justify-between mb-2",children:[(0,a.jsx)("div",{className:"font-medium",children:"Database"}),(0,a.jsxs)("div",{className:"flex items-center text-teal-600",children:[(0,a.jsx)(h.A,{className:"h-4 w-4 mr-1"})," Connected"]})]}),(0,a.jsx)("div",{className:"text-sm text-muted-foreground",children:"Type: PostgreSQL 14.2"}),(0,a.jsx)("div",{className:"text-sm text-muted-foreground",children:"Host: postgres:5432"})]}),(0,a.jsxs)("div",{className:"border border-teal-100 rounded-md p-4 shadow-sm",children:[(0,a.jsxs)("div",{className:"flex items-center justify-between mb-2",children:[(0,a.jsx)("div",{className:"font-medium",children:"Object Storage"}),(0,a.jsxs)("div",{className:"flex items-center text-teal-600",children:[(0,a.jsx)(h.A,{className:"h-4 w-4 mr-1"})," Connected"]})]}),(0,a.jsx)("div",{className:"text-sm text-muted-foreground",children:"Type: S3 Compatible"}),(0,a.jsx)("div",{className:"text-sm text-muted-foreground",children:"Endpoint: http://minio:9000"})]}),(0,a.jsxs)("div",{className:"border border-blue-100 rounded-md p-4 shadow-sm",children:[(0,a.jsxs)("div",{className:"flex items-center justify-between mb-2",children:[(0,a.jsx)("div",{className:"font-medium",children:"Message Queue"}),(0,a.jsxs)("div",{className:"flex items-center text-red-600",children:[(0,a.jsx)(u.A,{className:"h-4 w-4 mr-1"})," Disconnected"]})]}),(0,a.jsx)("div",{className:"text-sm text-muted-foreground",children:"Type: Kafka"}),(0,a.jsx)("div",{className:"text-sm text-muted-foreground",children:"Last Seen: 3 hours ago"})]})]})})})]})}),(0,a.jsx)(o,{value:"logs",children:(0,a.jsxs)(l.Zp,{className:"border-teal-100 shadow-sm",children:[(0,a.jsxs)(l.aR,{children:[(0,a.jsx)(l.ZB,{className:"text-teal-800",children:"System Logs"}),(0,a.jsx)(l.BT,{children:"Recent system-level log entries"})]}),(0,a.jsx)(l.Wu,{children:(0,a.jsxs)("div",{className:"bg-teal-50/50 p-4 rounded-md font-mono text-sm h-[400px] overflow-y-auto border border-teal-100",children:[(0,a.jsx)("div",{className:"text-teal-600",children:"[2023-04-07 11:30:00] INFO: System health check completed successfully"}),(0,a.jsx)("div",{className:"text-teal-600",children:"[2023-04-07 11:15:00] INFO: Configuration cache refreshed"}),(0,a.jsx)("div",{className:"text-yellow-600",children:"[2023-04-07 11:00:05] WARN: High memory usage detected (75%)"}),(0,a.jsx)("div",{className:"text-teal-600",children:"[2023-04-07 10:45:00] INFO: System health check completed successfully"}),(0,a.jsx)("div",{className:"text-red-600",children:"[2023-04-07 10:30:12] ERROR: Failed to connect to Kafka broker"}),(0,a.jsx)("div",{className:"text-red-600",children:"[2023-04-07 10:30:10] ERROR: Connection timeout after 30s"}),(0,a.jsx)("div",{className:"text-teal-600",children:"[2023-04-07 10:15:00] INFO: System health check completed successfully"}),(0,a.jsx)("div",{className:"text-teal-600",children:"[2023-04-07 10:00:00] INFO: Scheduled maintenance tasks completed"}),(0,a.jsx)("div",{className:"text-teal-600",children:"[2023-04-07 09:45:00] INFO: System health check completed successfully"}),(0,a.jsx)("div",{className:"text-teal-600",children:"[2023-04-07 09:30:00] INFO: User 'admin' logged in"}),(0,a.jsx)("div",{className:"text-teal-600",children:"[2023-04-07 09:15:00] INFO: System health check completed successfully"}),(0,a.jsx)("div",{className:"text-teal-600",children:"[2023-04-07 09:00:00] INFO: Daily statistics report generated"}),(0,a.jsx)("div",{className:"text-teal-600",children:"[2023-04-07 08:45:00] INFO: System health check completed successfully"}),(0,a.jsx)("div",{className:"text-teal-600",children:"[2023-04-07 08:30:00] INFO: Monitoring service restarted"}),(0,a.jsx)("div",{className:"text-yellow-600",children:"[2023-04-07 08:29:45] WARN: Monitoring service not responding"})]})})]})})]})]})}},3999:(e,s,t)=>{"use strict";t.d(s,{cn:()=>d});var a=t(2596),l=t(9688);function d(){for(var e=arguments.length,s=Array(e),t=0;t<e;t++)s[t]=arguments[t];return(0,l.QP)((0,a.$)(s))}},4085:(e,s,t)=>{Promise.resolve().then(t.bind(t,2831))},8482:(e,s,t)=>{"use strict";t.d(s,{BT:()=>n,Wu:()=>m,ZB:()=>i,Zp:()=>r,aR:()=>c,wL:()=>o});var a=t(5155),l=t(2115),d=t(3999);let r=l.forwardRef((e,s)=>{let{className:t,...l}=e;return(0,a.jsx)("div",{ref:s,className:(0,d.cn)("rounded-lg border bg-card text-card-foreground shadow-sm",t),...l})});r.displayName="Card";let c=l.forwardRef((e,s)=>{let{className:t,...l}=e;return(0,a.jsx)("div",{ref:s,className:(0,d.cn)("flex flex-col space-y-1.5 p-6",t),...l})});c.displayName="CardHeader";let i=l.forwardRef((e,s)=>{let{className:t,...l}=e;return(0,a.jsx)("div",{ref:s,className:(0,d.cn)("text-2xl font-semibold leading-none tracking-tight",t),...l})});i.displayName="CardTitle";let n=l.forwardRef((e,s)=>{let{className:t,...l}=e;return(0,a.jsx)("div",{ref:s,className:(0,d.cn)("text-sm text-muted-foreground",t),...l})});n.displayName="CardDescription";let m=l.forwardRef((e,s)=>{let{className:t,...l}=e;return(0,a.jsx)("div",{ref:s,className:(0,d.cn)("p-6 pt-0",t),...l})});m.displayName="CardContent";let o=l.forwardRef((e,s)=>{let{className:t,...l}=e;return(0,a.jsx)("div",{ref:s,className:(0,d.cn)("flex items-center p-6 pt-0",t),...l})});o.displayName="CardFooter"}},e=>{var s=s=>e(e.s=s);e.O(0,[201,632,441,684,358],()=>s(4085)),_N_E=e.O()}]);